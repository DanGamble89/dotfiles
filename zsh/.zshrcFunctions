# {{{ Run `la` every time we change directories
function chpwd() {
    emulate -L zsh
    la
}
# }}}
# {{{ Make directory and cd into it
mkcd () {
    mkdir "$1"
    cd "$1"
}
# }}}
# {{{ Add the ability to CTRL-Z back to Vim!
fancy-ctrl-z () {
  if [[ $#BUFFER -eq 0 ]]; then
    BUFFER="fg"
    zle accept-line
  else
    zle push-input
    zle clear-screen
  fi
}
zle -N fancy-ctrl-z
bindkey '^Z' fancy-ctrl-z
# }}}
# {{{ Activate .env file on directory change
function chpwd; {
    DIRECTORY="$PWD"
    while true; do
        if [ -f './.env.rc' ]; then
            source './.env.rc'
            break
        fi
        if [ -f './env' ]; then
            source './env'
            break
        fi
        [ $PWD = '/' ] && break
        cd -q ..
    done
    cd -q "$DIRECTORY"
}
# }}}
# vim:foldmethod=marker:foldlevel=0
